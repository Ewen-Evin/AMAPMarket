# .htaccess pour Amap'Market

# Empêcher le listing des répertoires
Options -Indexes

# Rediriger les erreurs 404 vers ta page personnalisée
ErrorDocument 404 /404.php

# Empêcher l'accès aux fichiers sensibles
<FilesMatch "\.(sql|log|htaccess|env|config\.php|db_config\.php)$">
    Order Allow,Deny
    Deny from all
</FilesMatch>

# Protéger les fichiers PHP spécifiques
<Files "db_config.php">
    Order Allow,Deny
    Deny from all
</Files>

# Protéger le dossier config s'il existe dans le répertoire web
# (si ton dossier config est dans le répertoire accessible)
<IfModule mod_authz_core.c>
    <IfModule mod_rewrite.c>
        RewriteEngine On
        RewriteRule ^config/ - [F,L]
    </IfModule>
</IfModule>

# Supprimer l'extension .php des URLs
RewriteEngine On
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^([^\.]+)$ $1.php [NC,L]

# Désactiver les méthodes HTTP dangereuses
<LimitExcept GET POST>
    Deny from all
</LimitExcept>